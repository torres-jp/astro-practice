---
import Layout from '../../layouts/Layout.astro'
import { getLaunches, getLaunchesBy } from '../../services/spacex'

const { id } = Astro.params

let launch

if (id) {
    launch = await getLaunchesBy({ id })
}

export async function getStaticPaths() {
    const launches = await getLaunches()

    return launches.map((launch) => ({
        params: { id: launch.id },
    }))
}

console.log(launch)
---

<Layout>
    <article>
        {launch?.id}
    </article>
</Layout>
